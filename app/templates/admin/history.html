{% extends "base.html" %}

{% block content %}
<section class="content-section">
  <div class="container">
    <h2>Event History</h2>
    {% for group in event_groups %}
    <div class="card-panel mb-4">
      <div class="dashboard-header">
        <div>
          <h5>{{ group.event.name }}</h5>
          <p class="text-muted mb-0">Event completed</p>
        </div>
      </div>
      <ul class="list-group list-group-flush mt-3">
        {% for competition in group.competitions %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ competition.name }}</strong>
          </div>
          <a class="btn btn-accent btn-sm" href="{{ url_for('admin.history_results', event_id=group.event.id, competition_id=competition.id) }}">
            <i class="fa-solid fa-chart-column"></i>
            View Results
          </a>
        </li>
        {% endfor %}
      </ul>
    </div>
    {% else %}
    <div class="card-panel">No completed events yet.</div>
    {% endfor %}
  </div>
</section>
{% endblock %}
